document.addEventListener("DOMContentLoaded", () => {


    const widthScreen = window.innerWidth || document.documentElement.clientWidth ||
        document.body.clientWidth;

    new Swiper(".projects__slider", {
        spaceBetween: 110,
        lazyPreloadPrevNext: 2,
        //loop: true,
        pagination: {
            el: ".swiper-pagination",
            type: "fraction",
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });

    function getScrollMenu() {
        let el = document.body;
        if (pageYOffset > 10) {
            el.classList.add('fix_menu');
        } else {
            el.classList.remove("fix_menu");
        }
    }

    getScrollMenu();
    window.addEventListener('scroll', function () {
        getScrollMenu();
    });


    if (document.getElementsByClassName("js-mask-phone").length) {
        const inpMask = document.querySelectorAll('.js-mask-phone');
        inpMask.forEach(el => {
            let im = new Inputmask("+7(999) 999-99-99", {"clearIncomplete": true});
            im.mask(el);
        });
    }

    if (document.getElementById('photoSlider')) {
        new Swiper("#photoSlider", {
            spaceBetween: 24,
            lazyPreloadPrevNext: 2,
            loop: true,
            autoplay: {
                disableOnInteraction: false,
                pauseOnMouseEnter: true,
            },
            speed: 1200,
            slidesPerView: 'auto',
            initialSlide: 2,
        });
    }

    if (document.getElementById('photoSlider2')) {
        new Swiper("#photoSlider2", {
            spaceBetween: 24,
            lazyPreloadPrevNext: 2,
            loop: true,
            autoplay: {
                pauseOnMouseEnter: true,
                disableOnInteraction: false,
                reverseDirection: true
            },
            breakpoints: {
                300: {
                    initialSlide: 1,
                    spaceBetween: 16
                },
                575: {
                    spaceBetween: 24,
                    initialSlide: 2,
                },
            },
            speed: 1200,
            slidesPerView: 'auto',
            initialSlide: 2,
        });
    }

    if (document.getElementById('productionSlider')) {
        new Swiper("#productionSlider", {
            spaceBetween: 30,
            loop: true,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
        });
    }
    if (document.getElementById('revSlider')) {
        new Swiper("#revSlider", {
            lazyPreloadPrevNext: 3,
            slidesPerView: 3,
            spaceBetween: 30,
           // loop: true,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: "#revSliderNext",
                prevEl: "#revSliderPrev",
            },
            breakpoints: {
                300: {
                    slidesPerView: 1,
                    spaceBetween: 16
                },
                767: {
                    slidesPerView: 1,
                    spaceBetween: 20
                },
                991: {
                    slidesPerView: 2,
                    spaceBetween: 20
                },
                1200: {
                    slidesPerView: 3,
                    spaceBetween: 30
                },
            },
        });
    }
    if (document.getElementById('videoPlay')) {
        document.getElementById('videoPlay').addEventListener('click', () => {
            document.getElementById('video').classList.add('active');
            document.getElementById('video').click();
        })
    }

    AOS.init({
        duration: 1000,
    });

    if(widthScreen < 768) {
        if (document.getElementById('tabMobSlider')) {
            new Swiper("#tabMobSlider", {
                spaceBetween: 36,
                slidesPerView: 'auto',
            });
        }
    }

    if (document.getElementById('tabMobSlider')) {
        document.getElementById('tabMobSlider').querySelectorAll('a').forEach(el => {
            el.addEventListener('click', () => {
                AOS.refresh();
            });
        });
    }
});



