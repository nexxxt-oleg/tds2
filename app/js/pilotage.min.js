document.addEventListener("DOMContentLoaded", () => {
    const widthScreen = window.innerWidth || document.documentElement.clientWidth ||
        document.body.clientWidth;

    new Swiper(".projects__slider", {
        spaceBetween: 110,
        lazyPreloadPrevNext: 2,
        //loop: true,
        pagination: {
            el: ".swiper-pagination",
            type: "fraction",
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });
    if (widthScreen < 991) {
        function getScrollMenu() {
            let el = document.body;
            if (pageYOffset > 300) {
                el.classList.add('fix_menu');
            } else {
                el.classList.remove("fix_menu");
            }
        }

        getScrollMenu();
        window.addEventListener('scroll', function () {
            getScrollMenu();
        });
    }

    if (document.getElementsByClassName("js-mask-phone").length) {
        const inpMask = document.querySelectorAll('.js-mask-phone');
        inpMask.forEach(el => {
            let im = new Inputmask("+7(999) 999-99-99", {"clearIncomplete": true});
            im.mask(el);
        });
    }

    if (document.getElementById('photoSlider')) {
        new Swiper("#photoSlider", {
            spaceBetween: 24,
            lazyPreloadPrevNext: 2,
            loop: true,
            autoplay: {
                disableOnInteraction: false,
                pauseOnMouseEnter: true,
            },
            speed: 1200,
            slidesPerView: 'auto',
            initialSlide: 2,
        });
    }

    if (document.getElementById('photoSlider2')) {
        new Swiper("#photoSlider2", {
            spaceBetween: 24,
            lazyPreloadPrevNext: 2,
            loop: true,
            autoplay: {
                pauseOnMouseEnter: true,
                disableOnInteraction: false,
                reverseDirection: true
            },
            speed: 1200,
            slidesPerView: 'auto',
            initialSlide: 2,
        });
    }
});
